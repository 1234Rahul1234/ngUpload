angular.module("ngUpload",[]).directive("ngUpload",function(){return{restrict:"A",link:function(e,t,n){var r={};r.enableControls=n.uploadOptionsEnableControls;if(n.ngUpload){t.attr("target","upload_iframe"),t.attr("method","post"),t.attr("enctype","multipart/form-data"),t.attr("encoding","multipart/form-data");var i=n.ngUpload.split("(")[0],s=e[i],o=function(n){var r=$("<iframe id='upload_iframe' name='upload_iframe' border='0' width='0' height='0' style='width: 0px; height: 0px; border: none; display: none' />");r.bind("load",function(){r.unbind("load");var t=r.contents().find("body").text();e.$apply(function(){s(t)}),setTimeout(function(){r.remove()},250),n.attr("disabled",null),n.attr("title","Click to start upload.")}),t.parent().append(r)};$(".upload-submit",t).click(function(){e.$apply(function(){s("Please wait...")});var n=!0;if(r.enableControls===null||r.enableControls.length===0)$(this).attr("disabled","disabled"),n=!1;$(this).attr("title",(n?"[ENABLED]: ":"[DISABLED]: ")+"Uploading, please wait..."),o($(this)),$(t).submit()}).attr("title","Click to start upload.")}else console.log("No callback function found on the ngUpload directive.")}}});